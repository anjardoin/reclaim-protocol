<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Protocol 90 Days: Reclaim Manhood</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.png">

    <!-- === SEO & SOCIAL SHARE METADATA (NEW) === -->
    <meta name="description" content="Aplikasi pelacak progres 90 hari untuk transformasi diri. Pantau misi harian, jurnal, dan statistik neuroplastisitas Anda secara real-time.">
    <meta name="keywords" content="protocol 90 days, self improvement, habit tracker, dopamine detox, productivity">
    <meta name="author" content="Anjar Ridwan">

    <!-- Open Graph / Facebook / WhatsApp -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://anjardoin.github.io/reclaim-protocol/"> <!-- Ganti dengan URL asli Anda -->
    <meta property="og:title" content="Protocol 90 Days: Reclaim Your Life">
    <meta property="og:description" content="Bergabunglah dalam tantangan 90 hari untuk mereset sistem dopamin dan membangun karakter baru. Mulai sekarang!">
    <meta property="og:image" content="https://anjardoin.github.io/reclaim-protocol/images/thumbnail.jpg"> <!-- Ganti dengan URL gambar thumbnail Anda -->

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://anjardoin.github.io/reclaim-protocol/">
    <meta property="twitter:title" content="Protocol 90 Days: Reclaim Your Life">
    <meta property="twitter:description" content="Lacak progres harian, kelola jurnal, dan pantau statistik dalam perjalanan transformasi 90 hari Anda.">
    <meta property="twitter:image" content="https://anjardoin.github.io/reclaim-protocol/images/thumbnail.jpg">

    <!-- Favicon (Icon di Tab Browser) -->
    <link rel="icon" type="image/png" href="images/favicon.png"> <!-- Pastikan Anda punya file ini -->

    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- FIREBASE SDK (Compat Version) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- HEADER (Tanpa Tombol Logout, dipindah ke About) -->
    <header>
        <div class="header-top">
            <div class="level-info">
                <span class="level-badge" id="level-display">LV.1 RECRUIT</span>
                <div style="font-size:0.75rem; color:var(--text-dim); font-weight:bold; margin-top: 14px;">
                    <span id="day-display">DAY 1</span>
                </div>
            </div>
            
            <div class="header-actions">
                <!-- Indikator Koneksi -->
                <div id="connection-status" class="status-dot offline" title="Offline / Local"> </div>
                <button class="theme-btn" id="theme-toggle-btn" title="Switch Mode">‚òÄ</button>
            </div>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" id="xp-bar"></div>
        </div>
        <div style="text-align:right; font-size:0.65rem; color:var(--text-main); margin-top:4px; font-weight:bold;">
            <span id="xp-text">0 / 500 XP</span>
        </div>
    </header>

    <!-- MAIN CONTENT (Langsung Tampil) -->
    <div id="main-content">
        
        <!-- TAB 1: MISSIONS -->
        <div id="tab-missions" class="tab-content active">
            <div class="card">
                <div class="day-header" id="mission-header">QUEST LOG</div>
                <div style="font-size:0.8rem; margin-bottom:10px; font-style:italic;" id="daily-focus">Focus: Loading...</div>
                <div id="task-list"></div>
            </div>
            
            <div class="card" style="text-align: center;">
                <p style="font-size:0.75rem; margin-bottom:10px; color:var(--text-dim);">SYSTEM CHECK REQUIRED</p>
                <button id="btn-finish-day">COMPLETE DAY ‚ñ∫</button>
            </div>
        </div>

        <!-- TAB 2: JOURNAL -->
        <div id="tab-journal" class="tab-content">
            <div class="card">
                <div class="day-header">SAVE POINT</div>
                <textarea id="journal-input" placeholder="RECORD DATA: Trigger, Win, Fail..."></textarea>
                <button id="btn-save-journal">SAVE DATA üíæ</button>
                <div id="journal-status" style="margin-top:10px; font-size:0.75rem; color:var(--accent); display:none; text-align:center; font-weight:bold;">[ DATA SAVED ]</div>
            </div>
            <div class="card">
                <div class="day-header">ARCHIVES</div>
                <div id="journal-history" style="font-size:0.75rem; color:var(--text-dim);"></div>
            </div>
        </div>

        <!-- TAB 3: STATS -->
        <div id="tab-stats" class="tab-content">
            <div class="card">
                <div class="day-header">ATTRIBUTES</div>
                <div class="stat-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed var(--accent); padding:5px 0;"><span><b>VIT</b> (Body)</span> <span id="stat-vit" style="font-weight:bold;">0</span></div>
                <div class="stat-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed var(--accent); padding:5px 0;"><span><b>MND</b> (Mind)</span> <span id="stat-mind" style="font-weight:bold;">0</span></div>
                <div class="stat-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed var(--accent); padding:5px 0;"><span><b>CHA</b> (Social)</span> <span id="stat-soc" style="font-weight:bold;">0</span></div>
            </div>

            <div class="card">
                <!-- <div class="day-header">NEURO PLASTICITY</div>
                <div class="chart-box">
                    <canvas id="neuroChart"></canvas>
                </div> -->
                <div class="metrics-grid">
                    <div class="metric-box">
                        <span class="metric-label">CURRENT STAGE</span>
                        <strong class="metric-val" id="bio-stage">...</strong>
                    </div>
                    <div class="metric-box">
                        <span class="metric-label">CURRENT XP</span>
                        <strong class="metric-val" id="bio-xp">...</strong>
                    </div>
                </div>
            </div>
            <button class="danger" id="btn-reset-data">‚ö† FACTORY RESET</button>
        </div>

        <!-- TAB 4: INFO -->
        <div id="tab-info" class="tab-content">
            <button class="danger" id="btn-emergency" style="display: block; margin: 0 auto; width: 95%; margin-bottom:15px">üõ°Ô∏è RELAPSE PROTOCOL</button>

            <div class="card">
                <div class="day-header">TACTICAL DASHBOARD</div>
                <div class="stage-nav">
                    <button id="btn-stage-1" class="stage-btn active">STAGE 1<br><span style="font-size:0.6rem">DETOX</span></button>
                    <button id="btn-stage-2" class="stage-btn">STAGE 2<br><span style="font-size:0.6rem">REBUILD</span></button>
                    <button id="btn-stage-3" class="stage-btn">STAGE 3<br><span style="font-size:0.6rem">INTEGRATE</span></button>
                </div>

                <div class="stage-detail-box">
                    <strong style="display:block; color:var(--accent); font-size:0.9rem;" id="stage-title">LOADING...</strong>
                    <p style="font-size:0.7rem; color:var(--text-dim); margin-bottom:10px; font-style:italic;" id="stage-theme">Theme...</p>
                    <p style="font-size:0.75rem; margin-bottom:10px;" id="stage-desc">Desc...</p>
                </div>

                <div class="day-header" style="font-size:0.9rem; margin-top:15px;">MILESTONES</div>
                <div id="stage-milestones"></div>
            </div>

            <div id="emergency-modal" style="display:none;">
                <div class="card emergency-card">
                    <h2 class="emergency-title">PROTOCOL DARURAT</h2>
                    <div class="emergency-content">
                        <p><strong>JIKA RELAPSE/GAGAL:</strong></p>
                        <ol>
                            <li>JANGAN BENCI DIRI SENDIRI.</li>
                            <li>LAKUKAN 50x PUSH UP SEKARANG.</li>
                            <li>ANALISA H.A.L.T.</li>
                            <li>LANJUTKAN MISI.</li>
                        </ol>
                    </div>
                    <button class="danger" id="btn-close-emergency">SAYA MENGERTI</button>
                </div>
            </div>
        </div>

        <!-- TAB 5: ABOUT & ACCOUNT -->
        <div id="tab-about" class="tab-content">
            <!-- NEW: ACCOUNT SECTION -->
            <div class="card">
                <div class="day-header">ACCOUNT STATUS</div>
                <div id="account-ui">
                    <!-- Injected by JS: Guest vs Logged In -->
                </div>
            </div>

            <div class="card">
                <div class="day-header">REFERENCE BOOKS</div>
                <div class="book-ref"><span class="book-title">No More Mr. Nice Guy</span><span class="book-author">Robert Glover</span></div>
                <div class="book-ref"><span class="book-title">The Rational Male</span><span class="book-author">Rollo Tomassi</span></div>
                <div class="book-ref"><span class="book-title">Breath</span><span class="book-author">James Nestor</span></div>
                <div class="book-ref"><span class="book-title">The Way of the Superior Man</span><span class="book-author">David Deida</span></div>
                <p style="font-size:0.7rem; text-align:center; margin-top:20px; color:var(--text-dim);">"Ego sum dominus meus."</p>
            </div>
            <div class="card">
                <div class="day-header">SYSTEM INFO</div>
                <ul class="info-list">
                    <li><strong>Version:</strong> 1.1</li>
                    <li><strong>Status:</strong> Online</li>
                    <li><strong>Storage:</strong> <b><span id="storage-status">Checking...</span></b></li>
                </ul>
            </div>
            <!-- 
            <div class="card">
                <div class="day-header">Contact</div>                
                <img src="images/me.png" alt="anjardoin" style="display: block; margin: 0 auto; width: 150px; height: 150px;">
                 
                <ul class="info-list">
                    <li><strong>Name:</strong> Anjar Ridwan</li>
                    <li><strong>Email:</strong> anjarlearning@gmail.com</li>
                    <li><strong>Telegram:</strong> @insanmakna</li>
                </ul>                
            </div>
            -->
        </div>

    </div>

    <!-- TACTICAL MODAL -->
    <div id="tactical-modal" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-title" id="t-modal-title">ALERT</div>
            <div class="modal-message" id="t-modal-msg">System Message...</div>
            <div class="modal-actions" id="t-modal-actions"></div>
        </div>
    </div>

    <nav>
        <button class="nav-btn active" data-tab="missions"><span class="nav-icon">‚öîÔ∏è</span>QUESTS</button>
        <button class="nav-btn" data-tab="journal"><span class="nav-icon">üìù</span>LOGS</button>
        <button class="nav-btn" data-tab="stats"><span class="nav-icon">üìä</span>STATS</button>
        <button class="nav-btn" data-tab="info"><span class="nav-icon">‚ÑπÔ∏è</span>INFO</button>
        <button class="nav-btn" data-tab="about"><span class="nav-icon">‚öôÔ∏è</span>ABOUT</button>
    </nav>

    <!-- LOAD DATA FIRST, THEN SCRIPT (NON-MODULE) -->
    <script src="data.js"></script>
    <script src="script.js"></script>
</body>
</html>