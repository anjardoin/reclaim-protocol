<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Protocol 90 Days: Reclaim Manhood</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    
    <!-- External Library: Chart.js (Wajib untuk Grafik) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Link ke file CSS eksternal -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- HEADER SECTION -->
    <header>
        <div class="header-top">
            <div class="level-info">
                <span class="level-badge" id="level-display">LV.1 RECRUIT</span>
                <div style="font-size:0.75rem; color:var(--text-dim); font-weight:bold; margin-top: 14px;">
                    <span id="day-display">DAY 1</span>
                </div>
            </div>
            <!-- Tombol Ganti Tema -->
            <button class="theme-btn" onclick="toggleTheme()" id="theme-toggle-btn" title="Switch Mode">‚òÄ</button>
        </div>
        
        <!-- XP Bar -->
        <div class="progress-container">
            <div class="progress-bar" id="xp-bar"></div>
        </div>
        <div style="text-align:right; font-size:0.65rem; color:var(--text-main); margin-top:4px; font-weight:bold;">
            <span id="xp-text">0 / 500 XP</span>
        </div>
    </header>

    <!-- MAIN CONTENT AREA -->
    <div id="main-content">
        
        <!-- TAB 1: MISSIONS (Halaman Utama) -->
        <div id="tab-missions" class="tab-content active">
            <div class="card">
                <div class="day-header" id="mission-header">QUEST LOG</div>
                <div style="font-size:0.8rem; margin-bottom:10px; font-style:italic;" id="daily-focus">Focus: Loading...</div>
                <!-- Task List akan diisi oleh function.js -->
                <div id="task-list"></div>
            </div>
            
            <div class="card" style="text-align: center;">
                <p style="font-size:0.75rem; margin-bottom:10px; color:var(--text-dim);">SYSTEM CHECK REQUIRED</p>
                <button onclick="finishDay()">COMPLETE DAY ‚ñ∫</button>
            </div>
        </div>

        <!-- TAB 2: JOURNAL -->
        <div id="tab-journal" class="tab-content">
            <div class="card">
                <div class="day-header">SAVE POINT</div>
                <textarea id="journal-input" placeholder="RECORD DATA: Trigger, Win, Fail..."></textarea>
                <button onclick="saveJournal()">SAVE DATA üíæ</button>
                <div id="journal-status" style="margin-top:10px; font-size:0.75rem; color:var(--accent); display:none; text-align:center; font-weight:bold;">[ DATA SAVED ]</div>
            </div>
            <div class="card">
                <div class="day-header">ARCHIVES</div>
                <div id="journal-history" style="font-size:0.75rem; color:var(--text-dim);"></div>
            </div>
        </div>

        <!-- TAB 3: STATS -->
        <div id="tab-stats" class="tab-content">
            <div class="card">
                <div class="day-header">ATTRIBUTES</div>
                <div class="stat-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed var(--accent); padding:5px 0;"><span>VIT (Body)</span> <span id="stat-vit" style="font-weight:bold;">0</span></div>
                <div class="stat-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed var(--accent); padding:5px 0;"><span>MND (Mind)</span> <span id="stat-mind" style="font-weight:bold;">0</span></div>
                <div class="stat-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed var(--accent); padding:5px 0;"><span>CHA (Social)</span> <span id="stat-soc" style="font-weight:bold;">0</span></div>
            </div>
            <button class="danger" onclick="resetData()">‚ö† FACTORY RESET</button>
        </div>

        <!-- TAB 4: INFO (DASHBOARD & REALTIME METRICS) -->
        <div id="tab-info" class="tab-content">
            <button class="danger" onclick="toggleEmergency()" style="display: block; margin: 0 auto; width: 95%; margin-bottom:15px">üõ°Ô∏è RELAPSE PROTOCOL</button>

            <div class="card">
                <div class="day-header">TACTICAL DASHBOARD</div>
                <div class="stage-nav">
                    <button id="btn-stage-1" class="stage-btn active" onclick="manualSetStage(1)">STAGE 1<br><span style="font-size:0.6rem">DETOX</span></button>
                    <button id="btn-stage-2" class="stage-btn" onclick="manualSetStage(2)">STAGE 2<br><span style="font-size:0.6rem">REBUILD</span></button>
                    <button id="btn-stage-3" class="stage-btn" onclick="manualSetStage(3)">STAGE 3<br><span style="font-size:0.6rem">INTEGRATE</span></button>
                </div>

                <div class="stage-detail-box">
                    <strong style="display:block; color:var(--accent); font-size:0.9rem;" id="stage-title">LOADING...</strong>
                    <p style="font-size:0.7rem; color:var(--text-dim); margin-bottom:10px; font-style:italic;" id="stage-theme">Theme...</p>
                    <p style="font-size:0.75rem; margin-bottom:10px;" id="stage-desc">Desc...</p>
                </div>

                <div class="day-header" style="font-size:0.9rem; margin-top:15px;">MILESTONES (WEEKLY)</div>
                <div id="stage-milestones"></div>
            </div>

            
            
            <!-- Modal Darurat (Relapse Protocol) -->
            <div id="emergency-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:200; justify-content:center; align-items:center; padding:20px;">
                <div class="card" style="width:100%; max-width:400px; border-color:var(--danger);">
                    <h2 style="color:var(--danger); text-align:center; border-bottom:2px solid var(--danger); padding-bottom:10px;">PROTOCOL DARURAT</h2>
                    <div style="font-size:0.8rem; margin-top:15px;">
                        <p><strong>JIKA RELAPSE/GAGAL:</strong></p>
                        <ol style="padding-left:20px; line-height:1.6;">
                            <li>JANGAN BENCI DIRI SENDIRI.</li>
                            <li>LAKUKAN 50x PUSH UP SEKARANG.</li>
                            <li>ANALISA H.A.L.T (Hungry, Angry, Lonely, Tired).</li>
                            <li>LANJUTKAN MISI BESOK.</li>
                        </ol>
                    </div>
                    <button class="danger" style="margin-top:20px;" onclick="toggleEmergency()">SAYA MENGERTI</button>
                </div>
            </div>
        </div>

        <!-- TAB 5: ABOUT -->
        <div id="tab-about" class="tab-content">
            <div class="card">
                <div class="day-header">REFERENCE BOOKS</div>
                <div class="book-ref"><span class="book-title">No More Mr. Nice Guy</span><span class="book-author">Robert Glover</span></div>
                <div class="book-ref"><span class="book-title">The Rational Male</span><span class="book-author">Rollo Tomassi</span></div>
                <div class="book-ref"><span class="book-title">Breath</span><span class="book-author">James Nestor</span></div>
                <div class="book-ref"><span class="book-title">The Way of the Superior Man</span><span class="book-author">David Deida</span></div>
            </div>
            <div class="card">
                <div class="day-header">SYSTEM INFO</div>
                <ul class="info-list">
                    <li><strong>Version:</strong> 1.0</li>
                    <li><strong>Status:</strong> Online</li>
                    <li><strong>Storage:</strong> LocalStorage</li>
                </ul>
                <p style="font-size:0.7rem; text-align:center; margin-top:20px; color:var(--text-dim);">"Ego sum dominus meus."</p>
            </div>
            <div class="card">
                <div class="day-header">Contact</div>
                <!-- 
                <img src="images/me.png" alt="anjardoin" style="display: block; margin: 0 auto; width: 150px; height: 150px;">
                 -->
                <ul class="info-list">
                    <li><strong>Name:</strong> Anjar Ridwan</li>
                    <li><strong>Email:</strong> anjarlearning@gmail.com</li>
                    <li><strong>Telegram:</strong> @insanmakna</li>
                </ul>
                <p style="font-size:0.7rem; text-align:center; margin-top:20px; color:var(--text-dim);">"Ego sum dominus meus."</p>
            </div>
        </div>
        

    </div>

    <!-- GENERIC TACTICAL MODAL (Alert/Confirm Replacement) -->
    <div id="tactical-modal" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-title" id="t-modal-title">ALERT</div>
            <div class="modal-message" id="t-modal-msg">System Message...</div>
            <div class="modal-actions" id="t-modal-actions">
                <!-- Button akan diinject via JS -->
            </div>
        </div>
    </div>

    <!-- BOTTOM NAVIGATION -->
    <nav>
        <button class="nav-btn active" onclick="switchTab('missions')"><span class="nav-icon">‚öîÔ∏è</span>QUESTS</button>
        <button class="nav-btn" onclick="switchTab('journal')"><span class="nav-icon">üìù</span>LOGS</button>
        <button class="nav-btn" onclick="switchTab('stats')"><span class="nav-icon">üìä</span>STATS</button>
        <button class="nav-btn" onclick="switchTab('info')"><span class="nav-icon">‚ÑπÔ∏è</span>INFO</button>
        <button class="nav-btn" onclick="switchTab('about')"><span class="nav-icon">‚öôÔ∏è</span>ABOUT</button>
    </nav>

    <!-- LOAD JAVASCRIPT LOGIC -->
    <script src="data.js"></script>>
    <script src="script.js"></script>>

   
</body>
</html>